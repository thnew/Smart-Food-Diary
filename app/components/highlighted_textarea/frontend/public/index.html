<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Streamlit Component</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Streamlit Component" />
    <link rel="stylesheet" href="bootstrap.min.css" />

    <style>
      body {
        padding: 30px;
      }

      .textarea-container {
        display: grid;
        position: relative;
        border-radius: 0.5rem;
        background-color: #fff;
        border: 1px solid transparent;
        border-color: #f000;
        transition: border-color 0.2s ease;

        border-radius: 1.875rem;
        box-shadow: 0px 15px 30px 0px rgba(0, 0, 0, 0.05);
      }

      .textarea-container.focused {
        border-color: #f00;
      }

      .edit-content {
        grid-row: 1;
        grid-column: 1;
        padding: 1.75rem;
        z-index: 100;
        min-height: 404px;
        color: #334155;

        font-size: 1.125rem;
        font-style: normal;
        font-weight: 600;
        line-height: 3.5rem;
      }

      .edit-content:focus {
        outline: none !important;
      }

      .edit-content-back {
        color: transparent;
        z-index: 0;
      }

      .edit-content-total {
        z-index: 0;
        display: flex;
        gap: 0.25rem;
        position: absolute;
        right: 2rem;
        bottom: 5.75rem;
        color: #64748b;
      }

      .edit-content-spinner {
        z-index: 0;
        position: absolute;
        right: 2rem;
        bottom: 5.75rem;
      }

      .hightlight-prepend-text {
        white-space: pre;
      }

      .highlight-text {
        display: inline;
        position: relative;
        white-space: pre;
        background: #50c9ce;
        border-radius: 0.5rem;
        padding: 0.25rem 0;
        transition: opacity 1s ease;
        transform: translateX(0);
      }

      .highlight-text-label {
        display: inline;
        position: absolute;
        top: calc(-100% - 5px);
        right: 4px;
        color: #64748b;
        font-size: 0.75rem;
      }

      .textarea-container.focused .highlight-text {
        opacity: 0.5;
      }

      .edit-content-spinner {
        border: 2px solid #f3f3f3; /* Light grey */
        border-top: 2px solid #3498db; /* Blue */
        border-radius: 50%;
        width: 25px;
        height: 25px;
        animation: spin 2s linear infinite;
        display: none;
      }

      .summary-button {
        display: flex;
        height: 3rem;
        justify-content: center;
        align-items: center;
        gap: 0.25rem;
        flex: 1 0 0;
        align-self: stretch;
        border-radius: 1rem;
        background: #3b82f6;
        margin: 1.75rem;
        border: 0;
        color: #fff;
      }

      .summary-button svg {
        margin-right: 0.25rem;
      }

      .summary-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #fff;
        z-index: 1000;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .summary-overlay-hidden {
        display: none;
      }

      .value-container {
        display: flex;
        gap: 2rem;
      }

      .value-item {
        padding: 1rem;
        --background: #0001;
        border-radius: 1rem;
      }

      .value-container .value-label {
        color: #94a3b8;
        text-align: center;
        font-size: 1.09531rem;
        font-style: normal;
        font-weight: 400;
        line-height: normal;
      }

      .value-container .value-text {
        color: #1e293b;
        text-align: center;
        font-size: 2.19063rem;
        font-style: normal;
        font-weight: 700;
        line-height: normal;
      }

      .summary-overlay .close-summary-button {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        display: flex;
        height: 3rem;
        justify-content: center;
        align-items: center;
        gap: 0.25rem;
        flex: 1 0 0;
        align-self: stretch;
        border-radius: 1rem;
        background: #3b82f6;
        margin: 1.75rem;
        border: 0;
        color: #fff;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <div class="textarea-container">
      <div class="edit-content-total">
        <span class="total-calories">0</span> Calories
      </div>
      <div class="edit-content-spinner"></div>

      <div class="edit-content" contenteditable="true"></div>

      <div class="summary-overlay summary-overlay-hidden">
        <div class="value-container">
          <div class="value-item">
            <div class="value-label">Calories</div>
            <div class="value-text total-calories"></div>
          </div>

          <div class="value-item">
            <div class="value-label">Fat</div>
            <div class="value-text total-fats"></div>
          </div>

          <div class="value-item">
            <div class="value-label">Carbs</div>
            <div class="value-text total-carbs"></div>
          </div>

          <div class="value-item">
            <div class="value-label">Proteins</div>
            <div class="value-text total-proteins"></div>
          </div>
        </div>

        <button class="close-summary-button">Back</button>
      </div>

      <button class="summary-button">
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.49414 5.39832C7.61719 5.39832 7.6875 5.31042 7.71387 5.19617C8.00391 3.73718 7.98633 3.70203 9.50684 3.4032C9.63867 3.37683 9.71777 3.30652 9.71777 3.18347C9.71777 3.06042 9.63867 2.99011 9.51562 2.96375C7.97754 2.64734 7.98633 2.61218 7.71387 1.16199C7.69629 1.04773 7.61719 0.968628 7.49414 0.968628C7.37109 0.968628 7.30078 1.04773 7.2832 1.16199C6.98438 2.62976 7.01074 2.6825 5.48145 2.96375C5.3584 2.98132 5.2793 3.06042 5.2793 3.18347C5.2793 3.29773 5.3584 3.37683 5.48145 3.4032C7.01074 3.71082 7.00195 3.74597 7.2832 5.19617C7.30078 5.31042 7.37109 5.39832 7.49414 5.39832ZM15.0264 8.52722C15.167 8.52722 15.2549 8.42175 15.2812 8.28992C15.5977 6.58484 15.5801 6.49695 17.373 6.18933C17.5225 6.16296 17.6191 6.07507 17.6191 5.93445C17.6191 5.79382 17.5225 5.70593 17.3818 5.67957C15.5801 5.35437 15.5537 5.27527 15.2812 3.57898C15.2549 3.43835 15.167 3.34167 15.0264 3.34167C14.8857 3.34167 14.7891 3.43835 14.7715 3.57898C14.4639 5.29285 14.4727 5.39832 12.6621 5.67957C12.5303 5.69714 12.4248 5.79382 12.4248 5.93445C12.4336 6.07507 12.5215 6.16296 12.6621 6.18933C14.4727 6.50574 14.4902 6.59363 14.7715 8.28992C14.7891 8.42175 14.8857 8.52722 15.0264 8.52722ZM2.65137 11.1639C2.79199 11.1639 2.88867 11.0673 2.90625 10.9266C3.1875 9.22156 3.21387 9.13367 5.00684 8.82605C5.14746 8.79968 5.24414 8.71179 5.24414 8.57117C5.24414 8.43054 5.14746 8.34265 5.01562 8.31628C3.20508 7.99109 3.20508 7.91199 2.90625 6.2157C2.87988 6.07507 2.79199 5.97839 2.65137 5.97839C2.51074 5.97839 2.42285 6.07507 2.39648 6.2157C2.11523 7.92957 2.09766 8.01746 0.295898 8.31628C0.155273 8.34265 0.0585938 8.43054 0.0585938 8.57117C0.0585938 8.71179 0.155273 8.79968 0.287109 8.82605C2.09766 9.14246 2.09766 9.23914 2.39648 10.9354C2.42285 11.0673 2.51074 11.1639 2.65137 11.1639ZM17.6982 18.705C18.1289 19.1444 18.8672 19.1356 19.2891 18.705C19.7197 18.2567 19.7109 17.5536 19.2891 17.1141L10.9395 8.72058C10.5088 8.28992 9.77051 8.28992 9.34863 8.72058C8.91797 9.16882 8.92676 9.88074 9.34863 10.3114L17.6982 18.705ZM12.7412 12.6141L10.0957 9.96863C9.91992 9.78406 9.8584 9.57312 10.0342 9.39734C10.1924 9.23914 10.4121 9.28308 10.6055 9.46765L13.2422 12.1132L12.7412 12.6141ZM6.8877 18.9247C7.07227 18.9247 7.2041 18.8016 7.23047 18.5995C7.51172 16.2264 7.62598 16.1561 10.043 15.7782C10.2627 15.743 10.3945 15.6288 10.3945 15.4354C10.3945 15.2509 10.2627 15.1278 10.0869 15.0927C7.63477 14.618 7.51172 14.6356 7.23047 12.2714C7.2041 12.0692 7.07227 11.9462 6.8877 11.9462C6.70312 11.9462 6.57129 12.0692 6.54492 12.2626C6.24609 14.6708 6.1582 14.7587 3.69727 15.0927C3.52148 15.1102 3.38086 15.2509 3.38086 15.4354C3.38086 15.62 3.5127 15.743 3.68848 15.7782C6.16699 16.2528 6.2373 16.2528 6.54492 18.6171C6.57129 18.8016 6.70312 18.9247 6.8877 18.9247Z"
            fill="white"
          />
        </svg>

        Summary
      </button>
    </div>

    <noscript>You need to enable JavaScript to run this app.</noscript>
  </body>
</html>
